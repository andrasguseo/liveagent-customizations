(function(){if("function"!==typeof jQuery){return}var marketingAlert='<div id="tribe-marketing-alert">'+'<div><span class="emoji">⚠️</span></div>'+"<div><strong>Heads up!</strong> Response times for support requests are a little longer than usual. Please expect up to 3 business days for a reply."+"</div></div>";var componentPortals='<div class="portals">'+'<div class="portals__portal">'+'<div class="portals__icon">'+'<img src="https://theeventscalendar.com/content/themes/tribe-ecp/img/icons/icon-support-knowledgebase.png" />'+"</div>"+'<div class="portals__content">'+"<h2>Knowledgebase</h2>"+"<p>Articles and tutorials on everything from getting started to customizing the plugins, troubleshooting, integrations and more!</p>"+"<ul>"+'<li><a href="https://theeventscalendar.com/knowledgebase-category/primers/">Getting Started</a></li>'+'<li><a href="https://theeventscalendar.com/knowledgebase-category/errors/">Troubleshooting</a></li>'+'<li><a href="https://theeventscalendar.com/knowledgebase/themers-guide/">Customizations</a></li>'+"</ul>"+'<a href="https://theeventscalendar.com/knowledgebase/" class="button button--primary">Browse Articles</a>'+"</div>"+"</div>"+'<div class="portals__portal">'+'<div class="portals__icon">'+'<img src="https://theeventscalendar.com/content/themes/tribe-ecp/img/icons/icon-support-docs.png" />'+"</div>"+'<div class="portals__content">'+"<h2>Technical Docs</h2>"+"<p>Documentation for everything under the hood of the plugins, including actions, filters, and example usages.</p>"+"<ul>"+'<li><a href="https://theeventscalendar.com/functions/">Functions & Template Tags</a></li>'+'<li><a href="https://theeventscalendar.com/plugin/the-events-calendar">The Events Calendar Docs</a></li>'+'<li><a href="https://theeventscalendar.com/plugin/event-tickets/">Event Tickets Docs</a></li>'+"</ul>"+'<a href="https://theeventscalendar.com/functions/" class="button button--primary">Visit Docs</a>'+"</div>"+"</div>"+"</div>";var componentInterstitial='<div class="interstitial interstitial--primary">'+'<div class="interstitial__icon">'+'<img src="https://theeventscalendar.com/content/themes/tribe-ecp/img/icons/icon-support-forum.png">'+"</div>"+'<div class="interstitial__content">'+"<h3>Looking for More Help?</h3>"+"<p>If you have looked through the documentation and knowledgebase and still have questions, then reach out to our friendly support staff and we will help you out.</p>"+'<div class="interstitial__actions">'+'<a href="https://support.theeventscalendar.com/submit_ticket" class="button button--secondary">Open Ticket</a>'+'<a href="" class="interstitial__text-link">Log into your account</a>'+"</div>"+"</div>"+"</div>";jQuery(function($){var $presalesForm=$("#presales-form");var isLoggedIn=$("#menu-item-user").length===1;var isLoggedOut=!isLoggedIn;var currentUrl=getCurrentUrl();var isHomePage="tribe.ladesk.com"===currentUrl;var isLoginPage=currentUrl.match(/login/)!==null;var isMyTicketsPage=currentUrl.match(/my_tickets/)!==null;var isSubmitTicketPage=currentUrl.match(/submit_ticket/)!==null;var navbarClass=$(".navbar");var jumbotron=$(".jumbotron");var marginTop=$(".container.inner-margin-top");var marketingClass=$("#tribe-marketing-alert");var portalsClass=$(".portals");var footerClass=$("footer").addClass("footer");function getCurrentUrl(){var url=document.location.toString();var protocolSeparator=url.match(/:\/\//);if("/"===url.slice(-1)){url=url.slice(0,-1)}if(protocolSeparator!==null){url=url.slice(protocolSeparator.index+3)}return url}function addMarketingAlert(message){navbarClass.after(message)}function addComponentPortals(content){if(isHomePage===true){jumbotron.after(content)}}function addComponentInterstitial(content){if(isHomePage===true){footerClass.before(content)}}function addJumbotronMessage(message){$jumbotronHeading.after(message)}function optionallyRemovePresalesForm(){if(!isLoggedIn||$presalesForm.length!==1){return}$presalesForm.hide()}addMarketingAlert(marketingAlert);addComponentPortals(componentPortals);addComponentInterstitial(componentInterstitial);document.body.dispatchEvent(new Event("tribe-liveagent.ready"))})(function($){"use strict";function getLineNumbers(lineRangeString){var lineNumbers=[],range,lineNumberSections;if(typeof lineRangeString==="number"){lineNumbers.push(lineRangeString)}else{lineNumberSections=lineRangeString.split(",");for(var i=0;i<lineNumberSections.length;i++){range=lineNumberSections[i].split("-");if(range.length===2){for(var j=parseInt(range[0],10);j<=range[1];j++){lineNumbers.push(j)}}else if(range.length===1){lineNumbers.push(parseInt(range[0],10))}}}return lineNumbers}var gistCache={};$.fn.gist=function(callback){return this.each(function(){var $elem=$(this),id,url,file,caption,lines,linesExpanded,loading,highlightLines,hideFooterOption,hideLineNumbersOption,showLoading,showSpinner,enableCache,data={};$elem.css("display","block");id=$elem.data("gist-id")||"";file=$elem.data("gist-file");caption=$elem.data("gist-caption");hideFooterOption=$elem.data("gist-hide-footer")===true;hideLineNumbersOption=$elem.data("gist-hide-line-numbers")===true;lines=$elem.data("gist-line");linesExpanded=$elem.data("gist-lines-expanded");highlightLines=$elem.data("gist-highlight-line");showSpinner=$elem.data("gist-show-spinner")===true;if(showSpinner){showLoading=false}else{showLoading=$elem.data("gist-show-loading")!==undefined?$elem.data("gist-show-loading"):true}if(file){data.file=file}if(!id){return false}url="https://gist.github.com/"+id+".json";enableCache=$elem.data("gist-enable-cache")===true||gistCache[url];loading="Loading gist "+url+(data.file?", file: "+data.file:"")+"...";if(showLoading){$elem.html(loading)}if(showSpinner){$elem.html('<img style="display:block;margin-left:auto;margin-right:auto"  alt="'+loading+'" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif">')}function successCallback(response){var linkTag,head,lineNumbers,highlightLineNumbers,$responseDiv;if(response&&response.div){if(response.stylesheet){if(response.stylesheet.indexOf("<link")===0){response.stylesheet=response.stylesheet.replace(/\\/g,"").match(/href=\"([^\s]*)\"/)[1]}else if(response.stylesheet.indexOf("http")!==0){if(response.stylesheet.indexOf("/")!==0){response.stylesheet="/"+response.stylesheet}response.stylesheet="https://gist.github.com"+response.stylesheet}}if(response.stylesheet&&$('link[href="'+response.stylesheet+'"]').length===0){linkTag=document.createElement("link");head=document.getElementsByTagName("head")[0];linkTag.type="text/css";linkTag.rel="stylesheet";linkTag.href=response.stylesheet;head.insertBefore(linkTag,head.firstChild)}$responseDiv=$(response.div);$responseDiv.removeAttr("id");$elem.html("").append($responseDiv);if(highlightLines){highlightLineNumbers=getLineNumbers(highlightLines);$responseDiv.find("td.line-data").css({width:"100%"});$responseDiv.find(".js-file-line").each(function(index){if($.inArray(index+1,highlightLineNumbers)!==-1){$(this).css({"background-color":"rgb(255, 255, 204)"})}})}if(lines){lineNumbers=getLineNumbers(lines);var collapsableLineNumbers=[];$responseDiv.find(".js-file-line").each(function(index){if($.inArray(index+1,lineNumbers)===-1){if(linesExpanded){collapsableLineNumbers.push(index+1);$(this).parent().hide()}else{$(this).parent().remove()}}});if(linesExpanded){var collapsableBlocks=chunkBy(collapsableLineNumbers,function(line){return!collapsableLineNumbers.includes(line-1)});$.each(collapsableBlocks,function(index,block){var firstLine=block[0];var lineBeforeFirstLine=firstLine-1;var lastLine=block[block.length-1];var svg='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 44" style="height: 15px; position: relative; top: 2px;"><path fill="#bbb" fill-rule="evenodd" d="M8.0066 16.05305v-7.6523c0-.82422-.47656-1.0273-1.0586-.4414l-3.5117 3.5039c-1.8789 1.875-4.6953-.94142-2.8164-2.8164L8.7215.61564c.68359-.67579 1.8008-.6797 2.4922 0l8.1641 8.0312c1.8789 1.875-.9375 4.6914-2.8164 2.8164l-3.5078-3.5039c-.58984-.58985-1.0625-.38673-1.0625.4414v27.30827c0 .82031.47656 1.0273 1.0586.44141l3.5117-3.5039c1.8789-1.875 4.6953.9375 2.8164 2.8164l-8.1016 8.0273c-.6836.6797-1.8008.6797-2.4922 0l-8.1641-8.0273c-1.8789-1.8789.9375-4.6914 2.8164-2.8164l3.5078 3.5039c.58984.58984 1.0625.38672 1.0625-.4414V16.05304z"/></svg>';var collapsibleIcon=$("<a></<a>");collapsibleIcon.attr("lines",block.join()).css({display:"block",cursor:"pointer"}).html(svg).on("click",function(event){event.preventDefault();$(this).closest("tr").remove();var that=$(this);$("table.highlight").find("tr:hidden td[data-line-number]").each(function(index,element){lines=that.attr("lines").split(",");if($.inArray($(element).attr("data-line-number"),lines)===-1){return true}$(element).parent().show()})});var lineNumberElement=$("<td></td>").addClass("blob-num js-line-number collapsed").attr("style","background-color: #f9f9f9; color: #999; font-size: 12px; font-style: italic; text-align: center; padding-top: 5px !important; padding-bottom: 5px !important;").append(collapsibleIcon);var lineCodeElement=$("<td></td>").addClass("blob-code blob-code-inner js-file-line collapsed").attr("style","background-color: #f9f9f9; color: #999; font-size: 12px; font-style: italic; padding-top: 5px !important; padding-bottom: 5px !important;").html("... Lines "+firstLine+" - "+lastLine);var lineElement=$("<tr></tr>").append(lineNumberElement).append(lineCodeElement);$responseDiv.find(".js-line-number[data-line-number="+lineBeforeFirstLine+"]").parent().after(lineElement)})}}if(caption){var tbody=$responseDiv.find("table tbody");var row=$("<tr></tr>");var captionColumn=$("<td></td>").attr("style","padding: 10px !important; border-bottom: 10px solid white; background-color: #f9f9f9; font-weight: bold;").html(caption);row.append($('<td style="background-color: #f9f9f9; border-bottom: 10px solid white;"></td>'));row.append(captionColumn);tbody.prepend(row)}if(hideFooterOption){$responseDiv.find(".gist-meta").remove();$responseDiv.find(".gist-data").css("border-bottom","0px");$responseDiv.find(".gist-file").css("border-bottom","1px solid #ddd")}if(hideLineNumbersOption){$responseDiv.find(".js-line-number").remove()}}else{$elem.html("Failed loading gist "+url)}}function errorCallBack(textStatus){$elem.html("Failed loading gist "+url+": "+textStatus)}function completeCallBack(){if(typeof callback==="function"){callback()}}function chunkBy(items,predicate){if(items.length===0){return[]}return items.slice(1).reduce(function(chunked,item){if(predicate(item)){chunked.push([item])}else{chunked.push(chunked.pop().concat([item]))}return chunked},[items.slice(0,1)])}$.ajax({url:url,data:data,dataType:"jsonp",timeout:2e4,beforeSend:function(){if(enableCache){if(gistCache[url]){gistCache[url].then(function(response){successCallback(response);completeCallBack()},function(errorStatus){errorCallBack(errorStatus)});return false}else{gistCache[url]=$.Deferred()}}},success:function(response){if(enableCache){if(gistCache[url]){gistCache[url].resolve(response)}}successCallback(response)},error:function(jqXHR,textStatus){errorCallBack(textStatus)},complete:function(){completeCallBack()}})})};$(function(){$("[data-gist-id]").gist()})})(jQuery)})();