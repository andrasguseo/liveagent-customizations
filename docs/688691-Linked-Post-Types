<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta name="referrer" content="no-referrer">
	<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag.js%3Fid=UA-25096731-18"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-25096731-18');
</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="canonical" href="688691-Linked-Post-Types" />            <link href="https://support.theeventscalendar.com/themes/kb/montana/kb.css%3Fv=5.14.4.4" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="https://support.theeventscalendar.com/index.php%3Ftype=css&amp;v=5.14.4.4&amp;c=1567196960" type="text/css">
        <link rel="apple-touch-icon" href="themes/kb/montana/img/apple-touch-icon.png" />
    <link type="image/x-icon" href="themes/kb/classic/img/favicon.ico" rel="shortcut icon" />
    <link type="image/x-icon" href="themes/kb/classic/img/favicon.ico" rel="icon" />    
    <link rel="mask-icon" href="themes/kb/montana/img/kb-mask-icon.svg" color="#F6921E">
        <script type="text/javascript">
        (function(d, src, c) { var t=d.scripts[d.scripts.length - 1],s=d.createElement('script');s.id='la_x2s6df8d';s.async=true;s.src=src;s.onload=s.onreadystatechange=function(){var rs=this.readyState;if(rs&&(rs!='complete')&&(rs!='loaded')){return;}c(this);};t.parentElement.insertBefore(s,t.nextSibling);})(document,
'//support.theeventscalendar.com/scripts/track.js',
function(e){});
    </script>       
            <title>Linked Post Types</title>        <meta name="keywords" content="The Events Calendar,Article,Advanced,Customizing Our Products,Backend Tweaks,Plugin,Tutorial, UI back, UIfront" />    <meta property="og:url" content="//support.theeventscalendar.com/688691-Linked-Post-Types" />    <meta property="og:title" content="Linked Post Types" />    <meta property="og:description" content="While The Events Calendar provides the Organizer and Venue post types by default, you may want to have another post type to associate with events, like &#039;Speakers&#039; or &#039;Instructors&#039;. Like Organizers, yo" />    <meta property="og:type" content="article" />    <meta property="og:image" content="/scripts/file.php%3Fview=Y&file=7ac92ed24735aaa35e80b7775041b38b" />        <link rel="icon" type="image/x-icon" href="https://theeventscalendar.com/content/uploads/2015/04/favicon.ico">
<link rel="shortcut icon" type="image/x-icon" href="https://theeventscalendar.com/content/uploads/2015/04/favicon.ico">
<link rel="stylesheet" type="text/css" href="https://theeventscalendar.com/content/themes/tribe-ecp/fonts/256398/64880275E7FF236DE.css" />
<!-- <link id="tribe-css" rel="stylesheet" type="text/css" href="https://s3-staging.theeventscalendar.com/mt-support-tribe-helpdesk.css" /> -->
<link id="tribe-css" rel="stylesheet" type="text/css" href="https://support.theeventscalendar.com/style.min.css" />
<script type='text/javascript'>
var zaius = window['zaius']||(window['zaius']=[]);zaius.methods=["initialize","onload","event","entity","identify","anonymize","dispatch"];zaius.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);zaius.push(t);return zaius}};(function(){for(var i=0;i<zaius.methods.length;i++){var method=zaius.methods[i];zaius[method]=zaius.factory(method)}var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src=("https:"===document.location.protocol?"https://":"http://")+"d1igp3oop3iho5.cloudfront.net/v2/cbYwQ5GKNtrS7WooZBsQEQ/zaius-min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})(); 
zaius.event('pageview');
</script>
</head>
<body class="montana  page-article">
	
             
	    <!-- nav -->
<nav class="navbar">
		<div class="container">

				<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
								<span class="sr-only"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
						</button>
						<a class="navbar-brand KBLogo" href="https://support.theeventscalendar.com/index.html"></a>
				</div>

				<div id="navbar" class="navbar-collapse collapse">
						<ul id="menu-header-menu" class="nav navbar-nav">
								<li id="menu-item-mytickets" class="menu-item"><a href="my_tickets#My-Tickets"><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> My tickets</a></li>
																		<li id="menu-item-submitticket" class="menu-item"><a href="submit_ticket"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Submit ticket</a></li>
								 
																		<li id="menu-item-login" class="menu-item"><a href="login"><span class="glyphicon glyphicon-off" aria-hidden="true"></span> Login</a></li>
														</ul>
				</div>
		</div>
</nav>	<!-- article -->
<div itemscope itemtype="https://schema.org/Article">
<div class="jumbotron inner-jumbotron jumbotron-inner-fix jumbotron-smaller">
  <div class="container inner-margin-top">
    <div class="row">
      <div class="col-md-12 col-sm-12" style="text-align:center">
        <h1 class="inner-header" itemprop="name">Linked Post Types</h1>
        <meta itemprop="author" content="The Events Calendar">
		<meta itemprop="headline" content="Linked Post Types">   
		<meta itemscope itemprop="mainEntityOfPage" itemType="https://schema.org/WebPage" itemid="//support.theeventscalendar.com/688691-Linked-Post-Types"/>                  
         <span itemprop="publisher" itemscope itemtype="https://schema.org/Organization">    	
    		<meta itemprop="name" content="The Events Calendar">
          <span itemscope itemprop="logo" itemtype="https://schema.org/ImageObject">
          	<meta itemprop="url" content="/scripts/file.php%3Fview=Y&file=7ac92ed24735aaa35e80b7775041b38b">
          	<meta itemprop="width" content="300px">
          	<meta itemprop="height" content="200px">
          </span>		
  		 </span>
        
                <!-- breadcrumbs -->
<p class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">
			<span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
		    		<a itemprop="item" href="https://support.theeventscalendar.com/index.html" class="breadcrumb-link">
    			<span itemprop="name">Home</span>
    		</a>    	
    	    	   <meta itemprop="position" content="1" />
    	</span>
    	    	    <span class="breadcrumb-divider">&gt;</span>
    	 	 
			<span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
		    		<a itemprop="item" href="534453-The-Events-Calendar" class="breadcrumb-link">
    			<span itemprop="name">The Events Calendar</span>
    		</a>
            	   <meta itemprop="position" content="2" />
    	</span>
    	    	    <span class="breadcrumb-divider">&gt;</span>
    	 	 
		<span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
		<span itemprop="item">
			<span itemprop="name">Linked Post Types</span>
			<meta itemprop="position" content="3" />
							<link itemprop="url" href="688691-Linked-Post-Types" />
					</span>
	</span>
</p>      </div>
    </div>
  </div>
</div>
<div class="container article-page  margin-top margin-bottom">
  <div class="row">
  	<div class="col-md-9">	
   			<div class="article-content ArticleContent" itemprop="articleBody"><p>While The Events Calendar provides the Organizer and Venue post types by default, you may want to have another post type to associate with events, like "Speakers" or "Instructors". Like Organizers, you would be able to add existing Instructors to events, or create <em>new</em> Instructors while creating events.</p>

<p>Doing this before version 4.2 of The Events Calendar meant lots of extra custom coding, but since 4.2 you can add or remove event-related post types with just a few simple filters. This framework for relating post types to events is called the "Linked Post Types" system.</p>

<p>Although the code added in 4.2 (and some deduplication functionality added in version 4.6) makes Linked Post Types customizable in a lot of neat ways, it actually still takes a heavy amount of code to actually add a new custom post type, link it to events, add new custom fields and validate their input, display these on the Single Events page, and display upcoming events on their single pages.</p>

<p>If you visited this guide before 2018, it pointed you down the right path but not enough to actually have you hit the ground running. Now, we are providing you with a fully-working example plugin!</p>

<hr />
<div style="background: #f3f3f3; border: 1px solid #aaa; padding: 0.6rem 1rem;"><strong>ðŸ”” Note:</strong> We are not able to help with custom coding, nor can we provide troubleshooting help for customizing the code we are providing to you. These facts are elaborated upon <a href="772674-What-support-is-provided-for-license-holders" rel="noopener" target="_blank">here</a> and <a href="http://theeventscalendar.com/terms" rel="noopener" target="_blank">here</a>. This guide is simply a <strong>starting place</strong> for learning about some of the advanced features of our plugin code.</div>

<hr />
<h2 id="getting-started">Example "Instructor" Linked Post Type plugin</h2>

<p><em><strong>The download link for this boilerplate/starter plugin is at its extensions page: <a href="https://theeventscalendar.com/extensions/linked-post-type-instructors/">https://theeventscalendar.com/extensions/linked-post-type-instructors/</a></strong></em></p>

<p><em><strong>You may also choose to review its code or submit pull requests to <a href="https://github.com/mt-support/tribe-ext-instructor-linked-post-type" rel="noopener" target="_blank">its GitHub repository</a>.</strong></em></p>

<p>We always strongly recommend you <a href="https://theeventscalendar.com/options-to-create-a-wordpress-backup-database/" rel="noopener" target="_blank">make backups of your site and database</a>&nbsp;and try new things (adding a plugin, updating a plugin, customizing a plugin, etc.) on a <a href="239548-Creating-and-using-a-WordPress-staging-site">staging site</a> before doing so on your live site!</p>

<p><em>This plugin is intended to be forked!</em> "Forking" code means copying it and then modifying it. It's a starting point, a boilerplate. It uses our Extensions Framework to do a few helpful things like ensure we have a compatible version of The Events Calendar and that our code loads after it so we can use its functions.</p>

<p>However, we determined this plugin is not suitable for inclusion in our <a href="https://theeventscalendar.com/extensions/">Extensions Library</a> because it's not intended to be plug-and-play. <em>This plugin is for people comfortable with tweaking or writing custom code.</em></p>

<p>After all that, if you decide you would like to know more about Linked Post Types, here are some highlights of what this plugin does:</p>

<ul>
	<li>Creates a new Instructor custom post type with applicable capabilities for various user types (administrator, editor, etc.)</li>
	<li>Flushes Permalinks whenever visiting the wp-admin Plugins List</li>
	<li>Adds Phone, Website, and Email Address custom fields and custom meta box</li>
	<li>Allows for sanitizing the input of these custom fieldsâ€”e.g. email address gets ran through <a href="https://developer.wordpress.org/reference/functions/sanitize_email/" target="_blank">sanitize_email()</a></li>
	<li>Builds the custom field keys (what gets saved to the database) from the custom field labels (what the user sees)</li>
	<li>Saves the required custom field to link Instructors to Events</li>
	<li>Outputs the linked Instructors (and each's custom fields) on the Single Events page, inside the same metabox as Details and Organizers</li>
	<li>Tells WP_Query that querying for an Instructor should count as an "event query", without which&nbsp;The Events Calendar wouldn't know to do some things it has to do for all this to work</li>
	<li>Loads the included single.php for the Single Instructor pages, which follows our&nbsp;<a href="153124-Themers-Guide">Themer's Guide's template override system</a>&nbsp;<em>(NOTE the single.php's parent folder needs to match the custom post type's key)</em></li>
	<li>Displays Upcoming Events on the Single Instructor page</li>
	<li>Adds a "There were no results found." notice on the Single Instructor page if there are no events found</li>
</ul>

<h3>Screenshots</h3>

<p>Here are some visuals of the functionality mentioned above:</p>

<p style="text-align: center;">]<a href="https://s3.theeventscalendar.com/uploads/2016/11/Creating-an-Instructor-linked-post-type-from-event-edit-screen.png"><img alt="" src="https://s3.theeventscalendar.com/uploads/2016/11/Creating-an-Instructor-linked-post-type-from-event-edit-screen-665x361.png" /></a><br />
Creating an Instructor linked post type post from the Event edit screen</p>

<p style="text-align: center;"><a href="https://s3.theeventscalendar.com/uploads/2016/09/Screen-Shot-2016-09-15-at-11.41.00-AM.png"><img alt="The Instructors Post Type Added to Events" src="https://s3.theeventscalendar.com/uploads/2016/09/Screen-Shot-2016-09-15-at-11.41.00-AM.png" /></a><br />
The Instructor post type successfully added to Events, with the same capabilities as the default Organizers and Venues types.</p>

<p style="text-align: center;"><a href="https://s3.theeventscalendar.com/uploads/2016/11/Single-Events-page-Instructors-are-displayed-in-the-meta-box-below-Details-and-Organizer.png"><img alt="" src="https://s3.theeventscalendar.com/uploads/2016/11/Single-Events-page-Instructors-are-displayed-in-the-meta-box-below-Details-and-Organizer-665x541.png" /></a><br />
Single Events page: Instructors are displayed in the meta box below Details and Organizer</p>

<h2 id="removing-custom-types">Related Resources</h2>

<p>Following are some tips for how to do things the provided starter plugin does&nbsp;<em>not</em>&nbsp;do for you.</p>

<h3>Removing Default Post Types from Events</h3>

<p>If you want to remove a default post type from eventsâ€”either Organizers or Venuesâ€”you would add a snippet like this somewhere in your custom code (<a href="739977-Best-Practices-for-Implementing-Custom-Code-Snippets">such as a separate custom plugin</a>):</p>

<p><a href="https://gist.github.com/cliffordp/a521d02facbc64ce3891c9341384cc07">https://gist.github.com/cliffordp/a521d02facbc64ce3891c9341384cc07</a></p>

<p>Here is a screenshot showing the section of the edit-event screen with our previously-added Instructors post type available, but with the default Organizers post type removed:</p>

<p style="text-align: center;"><a href="https://s3.theeventscalendar.com/uploads/2016/09/Screen-Shot-2016-09-15-at-11.57.04-AM.png"><img alt="The Organizers Type Removed from Events" src="https://s3.theeventscalendar.com/uploads/2016/09/Screen-Shot-2016-09-15-at-11.57.04-AM.png" /></a><br />
The default Organizers post type successfully removed from Events, while the custom Instructors post type remains.</p>

<h3 id="advanced-functions">Advanced Functions and Learning More</h3>

<p>There is an array of functions related to Linked Post Types, all of which can be found in this file within The Events Calendar:</p>

<pre>
/wp-content/plugins/the-events-calendar/src/functions/advanced-functions/linked-posts.php</pre>

<p>All of the available functions are as follows:</p>

<ul>
	<li><kbd>tribe_register_linked_post_type</kbd></li>
	<li><kbd>tribe_deregister_linked_post_type</kbd></li>
	<li><kbd>tribe_has_linked_posts</kbd></li>
	<li><kbd>tribe_get_linked_posts</kbd></li>
	<li><kbd>tribe_has_linked_posts_by_post_type</kbd></li>
	<li><kbd>tribe_get_linked_posts_by_post_type</kbd></li>
	<li><kbd>tribe_get_linked_post_types</kbd></li>
	<li><kbd>tribe_has_linked_post_types</kbd></li>
	<li><kbd>tribe_is_linked_post_type</kbd></li>
	<li><kbd>tribe_link_post</kbd></li>
	<li><kbd>tribe_unlink_post</kbd></li>
	<li><kbd>tribe_get_linked_post_container</kbd></li>
	<li><kbd>tribe_get_linked_post_id_field_index</kbd></li>
	<li><kbd>tribe_get_linked_post_name_field_index</kbd></li>
</ul>

<p>You may choose to leverage one of these functions on top of using the Instructors Linked Post Type nearly as-is, or you may choose to significantly modify this plugin. Either way, we hope this gets you up-and-running quickly with all your custom linked post needs!</p>
</div>    			
				<div class="Files">
					    			
    			</div>  
          <div class="ArticleInfo">          
          <span itemscope itemprop="image" itemtype="https://schema.org/ImageObject">
          	<meta itemprop="url" content="/scripts/file.php%3Fview=Y&file=7ac92ed24735aaa35e80b7775041b38b">
          	<meta itemprop="width" content="300px">
          	<meta itemprop="height" content="200px">
          </span>
                          <div class="ArticleUpdated" title="Jun 14, 2019, 08:37 AM">
                <span class="ArticleInfoLabel">Updated:</span> <span class="ArticleInfoValue"><time datetime="2019-06-14" itemprop="dateModified">Jun 14 (2 months ago)</time></span>
              </div>
                        <time datetime="2018-10-30" itemprop="datePublished"></time>
          </div>
		</div>			
		<div class="col-md-3">
				<!-- search_box -->
<div class="margin-bottom" itemscope itemtype="https://schema.org/WebSite">
	<meta itemprop="url" content="./" />
    <form action="https://support.theeventscalendar.com/search" method="get" itemprop="potentialAction" itemscope itemtype="https://schema.org/SearchAction">
    	<div class="input-group">
    	<meta itemprop="target" content="search?q={q}"/>
        <input itemprop="query-input" type="text" name="q" value="" class="form-control SearchText" required>
        <input type="hidden" name="pid" value="597">
        <input type="hidden" name="type" value="search">
        <input type="hidden" name="upid" value="">
      	<span class="input-group-btn">
        	<input class="btn btn-default btn-searchbox" type="submit" value="Search">
      	</span>
	    </div>
    </form>
</div>				<!-- right_other_articles -->
<div class="panel panel-default">
	<div class="panel-heading"><h4>Other Articles</h4></div>
  <ul class="panel-body list-group">
        <li class="list-group-item item-A"><a href="417063-Blocks-Colors-and-the-Default-Events-Template" class="article-link article-link-907" title="Blocks, Colors, and the Default Events Template">
        <span class="TitleValue">Blocks, Colors, and the Default Events Template</span>
      </a></li>
        <li class="list-group-item item-A"><a href="807454-Change-the-Default-Event-Template-in-Block-Editor" class="article-link article-link-843" title="Change the Default Event Template in Block Editor">
        <span class="TitleValue">Change the Default Event Template in Block Editor</span>
      </a></li>
        <li class="list-group-item item-A"><a href="174918-Testing-the-WordPress-50-Block-Editor" class="article-link article-link-737" title="Testing the WordPress 5.0 Block Editor">
        <span class="TitleValue">Testing the WordPress 5.0 Block Editor</span>
      </a></li>
        <li class="list-group-item item-A"><a href="629477-Using-the-Classic-Editor-with-WordPress-50" class="article-link article-link-735" title="Using the Classic Editor with WordPress 5.0">
        <span class="TitleValue">Using the Classic Editor with WordPress 5.0</span>
      </a></li>
        <li class="list-group-item item-A"><a href="838016-An-Introduction-to-Event-Blocks" class="article-link article-link-733" title="An Introduction to Event Blocks">
        <span class="TitleValue">An Introduction to Event Blocks</span>
      </a></li>
        <li class="list-group-item item-A"><a href="869262-Disable-the-events-menu-on-the-dashboard-for-non-admins" class="article-link article-link-283" title="Disable the events menu on the dashboard for non-admins">
        <span class="TitleValue">Disable the events menu on the dashboard for non-admins</span>
      </a></li>
        <li class="list-group-item item-A"><a href="421521-Add-start-time-to-event-title-in-Month-View" class="article-link article-link-317" title="Add start time to event title in Month View">
        <span class="TitleValue">Add start time to event title in Month View</span>
      </a></li>
        <li class="list-group-item item-A"><a href="405065-Change-the-default-startend-time-for-new-events" class="article-link article-link-407" title="Change the default start/end time for new events">
        <span class="TitleValue">Change the default start/end time for new events</span>
      </a></li>
        <li class="list-group-item item-A"><a href="518116-Make-links-to-an-event-go-straight-to-the-Event-Website-URL" class="article-link article-link-495" title="Make links to an event go straight to the Event Website URL">
        <span class="TitleValue">Make links to an event go straight to the Event Website URL</span>
      </a></li>
        <li class="list-group-item item-A"><a href="711392-Changing-the-browser-title-for-calendar-views" class="article-link article-link-509" title="Changing the browser title for calendar views">
        <span class="TitleValue">Changing the browser title for calendar views</span>
      </a></li>
    </ul>
        <div class="panel-footer"><a href="534453-The-Events-Calendar" class="MoreLinkTitle">and 73 more ...</a></div>
  </div>
		</div>
	</div>
</div>
</div>
<script type="text/javascript">

    var searchId = document.location.hash.replace('#', '');
    var headTag = document.getElementsByTagName("head").item(0);
    var scriptTag = document.createElement("script");
    scriptTag.setAttribute("type", "text/javascript");
    scriptTag.setAttribute("src", "/track.php%3Fid=597&searchId="+searchId);
    headTag.appendChild(scriptTag);

</script>		<footer>
					<div class="footer__wrapper">
  <div class="footer__brand">
    <div class="footer__logo">
      <img src="https://theeventscalendar.com/content/uploads/2019/04/tec-full-logo-inverted.png" alt="The Events Calendar">
    </div>
  </div>

  <div class="footer__nav">
    &copy; A Modern Tribe Hootenanny <span>|</span> 
    <a href="https://theeventscalendar.com/terms">Terms</a>
    <span>|</span> 
    <a href="https://theeventscalendar.com/privacy-policy/">Privacy
  </div>
</div>
					<div class="footer-container">
				<div class="container">
					
				</div>
			</div>
		</footer>
	<a href="688691-Linked-Post-Types#top" id="scroll-top"><span class="glyphicon glyphicon-chevron-up"></span></a>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://support.theeventscalendar.com/themes/kb/montana/js/jquery.min.js%3Fv=5.14.4.4"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://support.theeventscalendar.com/themes/kb/montana/js/bootstrap.min.js%3Fv=5.14.4.4"></script>
    <script src="https://support.theeventscalendar.com/themes/kb/montana/js/fixedmenu.js%3Fv=5.14.4.4"></script>
    <!-- <script id="tribe-js" defer src="https://s3-staging.theeventscalendar.com/mt-support-tribe-helpdesk.js"></script> -->
<script id="tribe-js" defer src="https://support.theeventscalendar.com/frontend.min.js"></script>
</body>
</html>