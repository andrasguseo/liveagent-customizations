<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta name="referrer" content="no-referrer">
	<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag.js%3Fid=UA-25096731-18"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-25096731-18');
</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="canonical" href="506000-Caching-What-when-and-how" />            <link href="themes/kb/montana/kb.css%3Fv=5.12.6.7" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="index.php%3Ftype=css&amp;v=5.12.6.7&amp;c=1557163586" type="text/css">
        <link rel="apple-touch-icon" href="themes/kb/montana/img/apple-touch-icon.png" />
    <link type="image/x-icon" href="themes/kb/classic/img/favicon.ico" rel="shortcut icon" />
    <link type="image/x-icon" href="themes/kb/classic/img/favicon.ico" rel="icon" />    
    <link rel="mask-icon" href="themes/kb/montana/img/kb-mask-icon.svg" color="#F6921E">
        <script type="text/javascript">
        (function(d, src, c) { var t=d.scripts[d.scripts.length - 1],s=d.createElement('script');s.id='la_x2s6df8d';s.async=true;s.src=src;s.onload=s.onreadystatechange=function(){var rs=this.readyState;if(rs&&(rs!='complete')&&(rs!='loaded')){return;}c(this);};t.parentElement.insertBefore(s,t.nextSibling);})(document,
'//support.theeventscalendar.com/scripts/track.js',
function(e){});
    </script>       
            <title>Caching: What, when and how</title>        <meta name="keywords" content="Article,Intermediate,Optimization" />    <meta property="og:url" content="//support.theeventscalendar.com/506000-Caching-What-when-and-how" />    <meta property="og:title" content="Caching: What, when and how" />    <meta property="og:description" content="When a visitor comes to your site they are generally seeking one thing: information!  One of the goals of web applications like WordPress (and those systems that run on top of it, such as our own plug" />    <meta property="og:type" content="article" />    <meta property="og:image" content="/scripts/file.php%3Fview=Y&file=7ac92ed24735aaa35e80b7775041b38b" />        <link rel="icon" type="image/x-icon" href="https://theeventscalendar.com/content/uploads/2015/04/favicon.ico">
<link rel="shortcut icon" type="image/x-icon" href="https://theeventscalendar.com/content/uploads/2015/04/favicon.ico">
<link rel="stylesheet" type="text/css" href="https://theeventscalendar.com/content/themes/tribe-ecp/fonts/256398/64880275E7FF236DE.css" />
<link id="tribe-css" rel="stylesheet" type="text/css" href="style.min.css" />
<script type='text/javascript'>
var zaius = window['zaius']||(window['zaius']=[]);zaius.methods=["initialize","onload","event","entity","identify","anonymize","dispatch"];zaius.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);zaius.push(t);return zaius}};(function(){for(var i=0;i<zaius.methods.length;i++){var method=zaius.methods[i];zaius[method]=zaius.factory(method)}var e=document.createElement("script");e.type="text/javascript";e.async=true;e.src=("https:"===document.location.protocol?"https://":"http://")+"d1igp3oop3iho5.cloudfront.net/v2/cbYwQ5GKNtrS7WooZBsQEQ/zaius-min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})(); 
zaius.event('pageview');
</script>
</head>
<body class="montana  page-article">	
	
             
	    <!-- nav -->
<nav class="navbar">
		<div class="container">

				<div class="navbar-header">
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
								<span class="sr-only"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
						</button>
						<a class="navbar-brand KBLogo" href="index.html"></a>
				</div>

				<div id="navbar" class="navbar-collapse collapse">
						<ul id="menu-header-menu" class="nav navbar-nav">
								<li id="menu-item-mytickets" class="menu-item"><a href="my_tickets#My-Tickets"><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> My tickets</a></li>
																		<li id="menu-item-submitticket" class="menu-item"><a href="submit_ticket"><span class="glyphicon glyphicon-edit" aria-hidden="true"></span> Submit ticket</a></li>
								 
																		<li id="menu-item-login" class="menu-item"><a href="login"><span class="glyphicon glyphicon-off" aria-hidden="true"></span> Login</a></li>
														</ul>
				</div>
		</div>
</nav>	<!-- article -->
<div itemscope itemtype="https://schema.org/Article">
<div class="jumbotron inner-jumbotron jumbotron-inner-fix jumbotron-smaller">
  <div class="container inner-margin-top">
    <div class="row">
      <div class="col-md-12 col-sm-12" style="text-align:center">
        <h1 class="inner-header" itemprop="name">Caching: What, when and how</h1>
        <meta itemprop="author" content="The Events Calendar">
		<meta itemprop="headline" content="Caching: What, when and how">   
		<meta itemscope itemprop="mainEntityOfPage" itemType="https://schema.org/WebPage" itemid="//support.theeventscalendar.com/506000-Caching-What-when-and-how"/>                  
         <span itemprop="publisher" itemscope itemtype="https://schema.org/Organization">    	
    		<meta itemprop="name" content="The Events Calendar">
          <span itemscope itemprop="logo" itemtype="https://schema.org/ImageObject">
          	<meta itemprop="url" content="/scripts/file.php%3Fview=Y&file=7ac92ed24735aaa35e80b7775041b38b">
          	<meta itemprop="width" content="300px">
          	<meta itemprop="height" content="200px">
          </span>		
  		 </span>
        
                <!-- breadcrumbs -->
<p class="breadcrumbs" itemscope itemtype="https://schema.org/BreadcrumbList">
			<span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
		    		<a itemprop="item" href="index.html" class="breadcrumb-link">
    			<span itemprop="name">Home</span>
    		</a>    	
    	    	   <meta itemprop="position" content="1" />
    	</span>
    	    	    <span class="breadcrumb-divider">&gt;</span>
    	 	 
			<span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
		    		<a itemprop="item" href="757786-General" class="breadcrumb-link">
    			<span itemprop="name">General</span>
    		</a>
            	   <meta itemprop="position" content="2" />
    	</span>
    	    	    <span class="breadcrumb-divider">&gt;</span>
    	 	 
		<span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
		<span itemprop="item">
			<span itemprop="name">Caching: What, when and how</span>
			<meta itemprop="position" content="3" />
							<link itemprop="url" href="506000-Caching-What-when-and-how" />
					</span>
	</span>
</p>      </div>
    </div>
  </div>
</div>
<div class="container article-page  margin-top margin-bottom">
  <div class="row">
  	<div class="col-md-9">	
   			<div class="article-content ArticleContent" itemprop="articleBody"><p>When a visitor comes to your site they are generally seeking one thing: information!</p>

<p>One of the goals of web applications like WordPress (and those systems that run on top of it, such as our own plugins) is to deliver this information as quickly as possible.</p>

<p>Often, though, interaction with the sources of this information - be that the site's own database or even a third-party service that is accessed over the web - just isn't fast enough, particularly if a site is fielding lots of traffic or answering a request for which&nbsp;many&nbsp;individual pieces of content need to be retrieved (think Month View: it isn't uncommon for this to contain upwards of 100 different events!).</p>

<p>Caching is one way we can work around and alleviate such bottlenecks. In this post, we will look at just a few forms of caching, how and when we use them, and what you need to be aware of.</p>

<h3 id="object-caching">Object caching</h3>

<p>When it takes a long time to retrieve a piece of information - or even if it is fast, but taxes the server more than normal - a common solution in the WordPress environment is to make use of the <a href="http://codex.wordpress.org/Class_Reference/WP_Object_Cache" rel="noopener" target="_blank">object cache</a>.</p>

<p>For instance, when the database is queried to create the main upcoming events list, all those events are then immediately stored in the object cache (right in the server's memory) so that they can quickly be retrieved in the future: pulling data like this out of the object cache is far, far faster than querying the database afresh.</p>

<p>Suppose that in the sidebar for List View you have a widget that highlights one of the listed events (and provides more in-depth information - the complete description, perhaps, rather than just the excerpt). Since the event is already stored in the object cache it can be retrieved speedily and with very little overhead.</p>

<h3 id="persistence">Persistence</h3>

<p>The problem with what we just described is that as soon as the web page has been put together and delivered to the visitor, the object cache is cleared.</p>

<p>The next time someone visits, it all begins again. That may make it seem like a waste of effort, yet it isn't entirely a waste - just think of the previous example involving a sidebar widget: caching saves time and effort&nbsp;<strong>even if it is cleared after each request</strong>.</p>

<p>However, it would often be preferable if it wasn't cleared at all. In the context of caching, this is what we mean when we talk of persistence and there are <a href="http://codex.wordpress.org/Class_Reference/WP_Object_Cache#Persistent_Cache_Plugins" rel="noopener" target="_blank">several plugins</a> you can install to help with this.</p>

<p>Indeed, some web hosts, particularly those specializing in WordPress hosting, actually set this up for you - so you don't need to install and configure anything&nbsp;at all (however, if you are in doubt it is always best to ask if this is something they facilitate).</p>

<p>Once persistent caching is in place there is generally a tremendous improvement in relation to the site's performance.</p>

<p>Thinking back to our List View example - the range of events shown here is identical to what we show in photo view, only the presentation changes. With persistent caching, both views benefit because they can both use the stored list of event objects without hitting the database. As a result, your users will see a faster load time as they click around your calendar.</p>

<h3 id="page-caching">Page caching</h3>

<p>So far we've covered caching of the raw data we need to build up views and pages. Though this can offer a huge speed boost, the work of taking that data and transforming it into nice, presentable web pages still needs to be done for each individual request.</p>

<p>Page caching is a process where we take the generated web page and store it in a cache, eliminating even the final step of generating HTML. There are many different ways of implementing this and there are <a href="https://wordpress.org/plugins/search.php%3Fq=page+caching" rel="noopener" target="_blank">plenty of plugins</a> that can add this capability to your site.</p>

<p>As a point of note, The Events Calendar comes equipped with some highly specific caching facilities not unlike page caching but that apply only to month view. To learn more about this specifically, <a href="160103-Caching-month-view-HTML-in-transients">please read this article</a> which covers month view caching in more depth.</p>

<p>However, this can have some drawbacks - which takes us neatly on to the last aspect of caching we're going to explore here.</p>

<h3 id="invalidation">Invalidation</h3>

<p>How long should we cache data for?</p>

<p>Clearly, it shouldn't be forever. Event details may be changed and updated, for example, and we want visitors to see that new information, not the outdated stuff! So we need a process for clearing and refreshing the cache - and this is what we mean when we talk of invalidation.</p>

<p>In practice, this is less of a problem with object caching. Many tried and tested systems baked right into the heart of WordPress do an admirable job of dealing with this and, wherever our own plugins interact with the object cache, we've also worked hard to ensure the cached data is invalidated and refreshed at appropriate points.</p>

<p>When page caching is used, though, it is often implemented by a third party plugin with no knowledge of events or how they work. This can result in some unusual side effects that you may notice when you use such a solution:</p>

<ul>
	<li>If you update an event's description or start time, you may find the change is not immediately reflected on the front end</li>
	<li>Normally events that have expired are no longer listed in the upcoming events list - but with page caching, it's possible they will linger longer than you might desire</li>
	<li>When you visit month view you typically expect to see the current month first of all - again, here, it's not impossible that you will see the last cached month instead</li>
</ul>

<p>These problems are far from insurmountable - most caching plugins will let you clear the cache with the click of a button and can usually be configured so that cached pages are automatically refreshed after a short interval - but they can trip people up even so which is why we wanted to highlight it.</p>

<h3 id="summary">Summary</h3>

<p>Our plugins make use of caching right now, without you having to do anything. To truly take this to the next level though and reap even more benefits it is at least worth adding a persistent object caching layer.</p>

<p>Whether you use an existing plugin for this or lean on your web host (as above, some provide their own caching systems as part of the service) is up to you - but it can make a significant difference to the performance of your site.</p>

<p>Page caching is definitely also worth consideration, just beware some of the common gotchas!</p>
</div>    			
				<div class="Files">
					    			
    			</div>  
          <div class="ArticleInfo">          
          <span itemscope itemprop="image" itemtype="https://schema.org/ImageObject">
          	<meta itemprop="url" content="/scripts/file.php%3Fview=Y&file=7ac92ed24735aaa35e80b7775041b38b">
          	<meta itemprop="width" content="300px">
          	<meta itemprop="height" content="200px">
          </span>
                          <div class="ArticleUpdated" title="Dec 20, 2018, 12:55 PM">
                <span class="ArticleInfoLabel">Updated:</span> <span class="ArticleInfoValue"><time datetime="2018-12-20" itemprop="dateModified">Dec 20 (4 months ago)</time></span>
              </div>
                        <time datetime="2018-10-30" itemprop="datePublished"></time>
          </div>
		</div>			
		<div class="col-md-3">
				<!-- search_box -->
<div class="margin-bottom" itemscope itemtype="https://schema.org/WebSite">
	<meta itemprop="url" content="./" />
    <form action="https://support.theeventscalendar.com/search" method="get" itemprop="potentialAction" itemscope itemtype="https://schema.org/SearchAction">
    	<div class="input-group">
    	<meta itemprop="target" content="search?q={q}"/>
        <input itemprop="query-input" type="text" name="q" value="" class="form-control SearchText" required>
        <input type="hidden" name="pid" value="419">
        <input type="hidden" name="type" value="search">
        <input type="hidden" name="upid" value="">
      	<span class="input-group-btn">
        	<input class="btn btn-default btn-searchbox" type="submit" value="Search">
      	</span>
	    </div>
    </form>
</div>				<!-- right_other_articles -->
<div class="panel panel-default">
	<div class="panel-heading"><h4>Other Articles</h4></div>
  <ul class="panel-body list-group">
        <li class="list-group-item item-A"><a href="588130-Pre-Sales-Questions" class="article-link article-link-865" title="Pre-Sales Questions">
        <span class="TitleValue">Pre-Sales Questions</span>
      </a></li>
        <li class="list-group-item item-A"><a href="345413-General-Sales--Account-Questions" class="article-link article-link-859" title="General Sales &amp; Account Questions">
        <span class="TitleValue">General Sales &amp; Account Questions</span>
      </a></li>
        <li class="list-group-item item-A"><a href="210263-Free-Support-Resources" class="article-link article-link-857" title="Free Support Resources">
        <span class="TitleValue">Free Support Resources</span>
      </a></li>
        <li class="list-group-item item-A"><a href="315237-Creating-Site-Backups" class="article-link article-link-729" title="Creating Site Backups">
        <span class="TitleValue">Creating Site Backups</span>
      </a></li>
        <li class="list-group-item item-A"><a href="178892-Change-the-wording-of-any-bit-of-text-or-string" class="article-link article-link-333" title="Change the wording of any bit of text or string">
        <span class="TitleValue">Change the wording of any bit of text or string</span>
      </a></li>
        <li class="list-group-item item-A"><a href="739977-Best-Practices-for-Implementing-Custom-Code-Snippets" class="article-link article-link-671" title="Best Practices for Implementing Custom Code Snippets">
        <span class="TitleValue">Best Practices for Implementing Custom Code Snippets</span>
      </a></li>
        <li class="list-group-item item-A"><a href="713863-PHP-Version-Requirement-Changes" class="article-link article-link-681" title="PHP Version Requirement Changes">
        <span class="TitleValue">PHP Version Requirement Changes</span>
      </a></li>
        <li class="list-group-item item-A"><a href="093589-Custom-Development" class="article-link article-link-687" title="Custom Development">
        <span class="TitleValue">Custom Development</span>
      </a></li>
        <li class="list-group-item item-A"><a href="192116-Support-Team-Webinars" class="article-link article-link-691" title="Support Team Webinars">
        <span class="TitleValue">Support Team Webinars</span>
      </a></li>
        <li class="list-group-item item-A"><a href="481188-Bundle-Discounts" class="article-link article-link-693" title="Bundle Discounts">
        <span class="TitleValue">Bundle Discounts</span>
      </a></li>
    </ul>
        <div class="panel-footer"><a href="757786-General" class="MoreLinkTitle">and 64 more ...</a></div>
  </div>
		</div>
	</div>
</div>
</div>
<script type="text/javascript">

    var searchId = document.location.hash.replace('#', '');
    var headTag = document.getElementsByTagName("head").item(0);
    var scriptTag = document.createElement("script");
    scriptTag.setAttribute("type", "text/javascript");
    scriptTag.setAttribute("src", "/track.php%3Fid=419&searchId="+searchId);
    headTag.appendChild(scriptTag);

</script>		<footer>
					<div class="footer__wrapper">
  <div class="footer__brand">
    <div class="footer__logo">
      <img src="https://theeventscalendar.com/content/uploads/2019/04/tec-full-logo-inverted.png" alt="The Events Calendar">
    </div>
  </div>

  <div class="footer__nav">
    &copy; A Modern Tribe Hootenanny <span>|</span> 
    <a href="https://theeventscalendar.com/terms">Terms</a>
    <span>|</span> 
    <a href="https://theeventscalendar.com/privacy-policy/">Privacy
  </div>
</div>
					<div class="footer-container">
				<div class="container">
					
				</div>
			</div>
		</footer>
	<a href="506000-Caching-What-when-and-how#top" id="scroll-top"><span class="glyphicon glyphicon-chevron-up"></span></a>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="themes/kb/montana/js/jquery.min.js%3Fv=5.12.6.7"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="themes/kb/montana/js/bootstrap.min.js%3Fv=5.12.6.7"></script>
    <script src="themes/kb/montana/js/fixedmenu.js%3Fv=5.12.6.7"></script>
    <script id="tribe-js" defer src="frontend.min.js"></script>
</body>
</html>